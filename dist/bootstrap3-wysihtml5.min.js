!function(a,b){"use strict";var c={"font-styles":function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='dropdown wysihtml5-toolbar-fontStyles'><a class='btn dropdown-toggle "+c+" btn-default' data-toggle='dropdown' href='#'>"+"<i class='glyphicon glyphicon-font'></i>&nbsp;<span class='current-font'>"+a.font_styles.normal+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+a.font_styles.normal+"</a></li>"+"<li role='presentation' class='divider'></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'><h1>"+a.font_styles.h1+"</h1></a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'><h2>"+a.font_styles.h2+"</h2></a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'><h3>"+a.font_styles.h3+"</h3></a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4' tabindex='-1'><h4>"+a.font_styles.h4+"</h4></a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5' tabindex='-1'><h5>"+a.font_styles.h5+"</h5></a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6' tabindex='-1'><h6>"+a.font_styles.h6+"</h6></a></li>"+"</ul>"+"</li>"},color:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='dropdown wysihtml5-toolbar-video'><a class='btn dropdown-toggle "+c+" btn-default' data-toggle='dropdown' href='#' tabindex='-1'>"+"<span class='current-color'>"+a.colours.black+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+a.colours.black+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+a.colours.silver+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+a.colours.gray+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+a.colours.maroon+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+a.colours.red+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+a.colours.purple+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+a.colours.green+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+a.colours.olive+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+a.colours.navy+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+a.colours.blue+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+a.colours.orange+"</a></li>"+"</ul>"+"</li>"},emphasis:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-emphasis'><div class='btn-group'><a class='btn "+c+" btn-default' data-wysihtml5-command='bold' title='"+a.emphasis.bold+" (CTRL+B)' tabindex='-1'><i class='glyphicon glyphicon-bold'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='italic' title='"+a.emphasis.italic+" (CTRL+I)' tabindex='-1'><i class='glyphicon glyphicon-italic'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='underline' title='"+a.emphasis.underline+" (CTRL+U)' tabindex='-1'><b><u>U</u></b></a>"+"</div>"+"</li>"},textAlign:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-textAlign'><div class='btn-group'><a class='btn "+c+" btn-default' data-wysihtml5-command='justifyLeft' title='"+a.text.alignLeft+"' tabindex='-1'><i class='glyphicon glyphicon-align-left'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='justifyCenter' title='"+a.text.alignCenter+"' tabindex='-1'><i class='glyphicon glyphicon-align-center'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='justifyFull' title='"+a.text.alignJustify+"' tabindex='-1'><i class='glyphicon glyphicon-align-justify'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='justifyRight' title='"+a.text.alignRight+"' tabindex='-1'><i class='glyphicon glyphicon-align-right'></i></a>"+"</div>"+"</li>"},lists:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-lists'><div class='btn-group'><a class='btn "+c+" btn-default' data-wysihtml5-command='insertUnorderedList' title='"+a.lists.unordered+"' tabindex='-1'><i class='glyphicon glyphicon-list'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='insertOrderedList' title='"+a.lists.ordered+"' tabindex='-1'><i class='glyphicon glyphicon-th-list'></i></a>"+"<a class='btn "+c+" btn-default' data-wysihtml5-command='Outdent' title='"+a.lists.outdent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-right'></i></a>"+"<a class='btn -"+c+" btn-default' data-wysihtml5-command='Indent' title='"+a.lists.indent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-left'></i></a>"+"</div>"+"</li>"},blockquote:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-blockquote'><a class='btn "+c+" btn-default' data-wysihtml5-command='insertBlockQuote' title='"+a.text.blockquote+"' tabindex='-1'><i style='font-weight:bold;'>\u201e\u201d</i></a>"+"</li>"},link:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-link'><div class='bootstrap-wysihtml5-insert-link-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'><span aria-hidden='true'>\xd7</span><span class='sr-only'>Close</span></button><h4 class='modal-title'>"+a.link.insert+"</h4>"+"</div>"+"<div class='modal-body'>"+"<input placeholder='http://' class='bootstrap-wysihtml5-insert-link-url form-control'>"+"<label class='checkbox' style='margin-left:20px;'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+a.link.target+"</label>"+"<br/>"+"<div class='alert alert-danger' style='visibility:hidden;' role='alert'>"+a.link.invalid+"</div>"+"</div>"+"<div class='modal-footer'>"+"<button class='btn btn-default' data-dismiss='modal'>"+a.link.cancel+"</button>"+"<button class='btn btn-primary' data-dismiss='modal'>"+a.link.insert+"</button>"+"</div>"+"</div>"+"</div>"+"</div>"+"<button class='btn "+c+" btn-default' title='"+a.link.insert+"' tabindex='-1' data-toggle='modal' data-target='.bootstrap-wysihtml5-insert-link-modal'><i class='glyphicon glyphicon-share'></i></button>"+"</li>"},table:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-table'><div class='bootstrap-wysihtml5-insert-table-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'><span aria-hidden='true'>\xd7</span><span class='sr-only'>Close</span></button><h4 class='modal-title'>"+a.table.insert+"</h4>"+"</div>"+"<div class='modal-body'>"+"<div class='row'>"+"<div class='form-group col-sm-4'>"+"<label class='control-label'>"+a.table.rows+"<input type='number' class='form-control wysihtml5-table-rows' value='3' min='1'>"+"</label>"+"</div>"+"<div class='form-group col-sm-4'>"+"<label class='control-label'>"+a.table.columns+"<input type='number' class='form-control wysihtml5-table-cols' value='3' min='1'>"+"</label>"+"</div>"+"<div class='form-group col-sm-4'>"+"<label class='control-label' style='width:100%;position:relative;'>"+"<span>"+a.table.heading.label+"</span>"+"<button type='button' class='btn btn-default dropdown-toggle form-control' data-toggle='dropdown'>"+"<span class='current-heading' data-index='0'>"+a.table.heading.none+"</span>&nbsp;<b class='caret'></b>"+"</button>"+"<ul class='dropdown-menu' style='right:0;'>"+"<li><a class='wysihtml5-table-heading' tabindex='-1' href='javascript:;' unselectable='on' data-index='0'>"+a.table.heading.none+"</a></li>"+"<li><a class='wysihtml5-table-heading' tabindex='-1' href='javascript:;' unselectable='on' data-index='1'>"+a.table.heading.row+"</a></li>"+"<li><a class='wysihtml5-table-heading' tabindex='-1' href='javascript:;' unselectable='on' data-index='2'>"+a.table.heading.column+"</a></li>"+"</ul>"+"</div>"+"</div>"+"<br/>"+"<div class='alert alert-danger' style='visibility:hidden;' role='alert'>"+a.table.invalid+"</div>"+"</div>"+"<div class='modal-footer'>"+"<button class='btn btn-default' data-dismiss='modal'>"+a.table.cancel+"</button>"+"<button class='btn btn-primary' data-dismiss='modal'>"+a.table.insert+"</button>"+"</div>"+"</div>"+"</div>"+"</div>"+"<button class='btn "+c+" btn-default' title='"+a.table.insert+"' tabindex='-1' data-toggle='modal' data-target='.bootstrap-wysihtml5-insert-table-modal'><i class='glyphicon glyphicon-th'></i></button>"+"</li>"},image:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-image'><div class='bootstrap-wysihtml5-insert-image-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'><span aria-hidden='true'>\xd7</span><span class='sr-only'>Close</span></button><h4 class='modal-title'>"+a.image.insert+"</h4>"+"</div>"+"<div class='modal-body'>"+"<div class='input-group'>"+"<input type='file' class='hidden bootstrap-wysihtml5-insert-image-file'>"+"<input type='hidden'/>"+"<input placeholder='http://' class='bootstrap-wysihtml5-insert-image-url form-control'>"+"<div class='input-group-btn'>"+"<button type='button' class='btn btn-default dropdown-toggle' data-toggle='dropdown'>"+a.image.fromUrl+" <span class='caret'></span></button>"+"<ul class='dropdown-menu dropdown-menu-right' role='menu' style='right:0;left:auto;'>"+"<li><a href='#' class='bootstrap-wysihtml5-insert-image-local'>"+a.image.fromComputer+"</a></li>"+"</ul>"+"</div>"+"</div>"+"<br/>"+"<div class='alert alert-danger' style='visibility:hidden;' role='alert'></div>"+"</div>"+"<div class='modal-footer'>"+"<button class='btn btn-default' data-dismiss='modal'>"+a.image.cancel+"</button>"+"<button class='btn btn-primary' data-dismiss='modal'>"+a.image.insert+"</button>"+"</div>"+"</div>"+"</div>"+"</div>"+"<button class='btn "+c+" btn-default' title='"+a.image.insert+"' tabindex='-1' data-toggle='modal' data-target='.bootstrap-wysihtml5-insert-image-modal'><i class='glyphicon glyphicon-picture'></i></button>"+"</li>"},video:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li class='wysihtml5-toolbar-video'><div class='bootstrap-wysihtml5-insert-video-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'><span aria-hidden='true'>\xd7</span><span class='sr-only'>Close</span></button><h4 class='modal-title'>"+a.video.insert+"</h4>"+"</div>"+"<div class='modal-body'>"+"<input type='text' data-wysihtml5-dialog-field='src' placeholder='https://www.youtube.com/watch?v=XXXXXXXXXXX' class='bootstrap-wysihtml5-insert-video-url form-control'>"+"<br/>"+"<div class='btn-group bootstrap-wysihtml5-insert-video-format' data-toggle='buttons'>"+"<label class='btn btn-default active' title='"+a.video.widescreen+"'>"+"<input type='radio' data-value='wide' name='options'checked> 16:9"+"</label>"+"<label class='btn btn-default' title='"+a.video.tv+"'>"+"<input type='radio' data-value='tv' name='options'> &nbsp;4:3&nbsp;"+"</label>"+"</div>"+"<br/>"+"<div class='alert alert-danger' style='visibility:hidden;' role='alert'>"+a.video.invalid+"</div>"+"</div>"+"<div class='modal-footer'>"+"<button class='btn btn-default' data-dismiss='modal'>"+a.video.cancel+"</button>"+"<button class='btn btn-primary' data-dismiss='modal'>"+a.video.insert+"</button>"+"</div>"+"</div>"+"</div>"+"</div>"+"<button class='btn "+c+" btn-default' title='"+a.video.insert+"' tabindex='-1' data-toggle='modal' data-target='.bootstrap-wysihtml5-insert-video-modal'><i class='glyphicon glyphicon-facetime-video'></i></button>"+"</li>"},html:function(a,b){var c=b&&b.size?" btn-"+b.size:"";return"<li><div class='btn-group'><a class='btn "+c+" btn-danger' data-wysihtml5-action='change_view' title='"+a.html.edit+"' tabindex='-1'><b style='letter-spacing:1px;'>&lt;/&gt;</b></a>"+"</div>"+"</li>"}},d=function(a,b,d){try{return c[a](b,d)}catch(e){return""}},e=function(b,d){this.el=b;var e=d||g;for(var f in e.customTemplates)c[f]=e.customTemplates[f];this.toolbar=this.createToolbar(b,e),this.editor=this.createEditor(d),window.editor=this.editor,a("iframe.wysihtml5-sandbox").each(function(b,c){a(c.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){a("li.dropdown").removeClass("open")}})})};e.prototype={constructor:e,createEditor:function(c){c=c||{},c=a.extend(!0,{},c),c.toolbar=this.toolbar[0];var d=new b.Editor(this.el[0],c);if(c&&c.events)for(var e in c.events)d.on(e,c.events[e]);return d},createToolbar:function(b,c){var e=this,f=a("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),i=c.locale||g.locale||"en";for(var j in g){var k=!1;void 0!==c[j]?c[j]===!0&&(k=!0):k=g[j],k===!0&&(f.append(d(j,h[i],c)),"html"===j&&this.initHtml(f),"link"===j&&this.initInsertLink(f),"table"===j&&this.initInsertTable(f),"image"===j&&this.initInsertImage(f,i),"video"===j&&this.initInsertVideo(f))}if(c.useParserRules===!1&&(c.parser=function(a){return a}),c.toolbar)for(j in c.toolbar)f.append(c.toolbar[j]);return f.find("a[data-wysihtml5-command='formatBlock']").click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(".current-font").text(d.html())}),f.find("a[data-wysihtml5-command='foreColor']").click(function(b){var c=b.target||b.srcElement,d=a(c);e.toolbar.find(".current-color").text(d.html())}),this.el.before(f),f},initHtml:function(a){var b="a[data-wysihtml5-action='change_view']";a.find(b).click(function(){a.find("a.btn").not(b).toggleClass("disabled")})},initInsertImage:function(a,b){var l,c=this,d=a.find(".bootstrap-wysihtml5-insert-image-modal"),e=d.find(".bootstrap-wysihtml5-insert-image-url"),f=d.find(".bootstrap-wysihtml5-insert-image-local"),g=d.find(".bootstrap-wysihtml5-insert-image-file"),i=d.find(".btn-primary"),j=e.val(),k=d.find(".alert-danger"),m=function(){var a=e.val();return e.val(j),c.editor.currentView.element.focus(),l&&(c.editor.composer.selection.setBookmark(l),l=null),a?(c.editor.composer.commands.exec("insertImage",{src:a,"class":"img-responsive"}),void 0):(k.css("visibility","visible"),k.text(h[b].image.invalid),!1)};e.keypress(function(a){13==a.which&&(m(),d.modal("hide"))}),i.click(m),f.click(function(){g.trigger("click")}),g.change(function(a){i.prop("disabled",!0);var e=a.target.files[0],f=new FileReader;e.type.match("image.*")&&(f.onload=function(a){l&&(c.editor.composer.selection.setBookmark(l),l=null),d.modal("hide"),c.editor.composer.commands.exec("insertImage",{alt:e.name,title:e.name,src:a.target.result,"class":"img-responsive"}),i.prop("disabled",!1)},f.onerror=function(a){k.css("visibility","visible"),k.text(a.target.error.code+": "+h[b].image.error)},f.readAsDataURL(e))}),d.on("shown.bs.modal",function(){e.focus()}),d.on("hidden.bs.modal",function(){k.css("visibility","hidden"),e.val(""),d.find(".input-group-btn.open").removeClass("open"),setTimeout(function(){c.editor.currentView.element.focus()})})},initInsertVideo:function(a){var b=this,c=a.find(".bootstrap-wysihtml5-insert-video-modal"),d=c.find(".bootstrap-wysihtml5-insert-video-url"),e=c.find(".btn-primary");d.val();var h,g=c.find(".alert-danger"),i=function(){g.css("visibility","hidden");var a=d.val(),e=a;if(!/^(https?\:\/\/www.youtube.com\/watch\?v=)/i.test(a))return g.css("visibility","visible"),!1;var f=a.replace(/^(https?\:\/\/www.youtube.com\/watch\?v=)/,""),i=c.find(".bootstrap-wysihtml5-insert-video-format input:checked").data("value");e="http://www.youtube.com/embed/"+f.split("&")[0],d.val(a),b.editor.currentView.element.focus(),h&&(b.editor.composer.selection.setBookmark(h),h=null),b.editor.composer.commands.exec("insertVideo",e,i),d.val("")};d.keypress(function(a){13==a.which&&(i(),c.modal("hide"))}),e.click(i),c.on("shown.bs.modal",function(){d.focus()}),c.on("hidden.bs.modal",function(){g.css("visibility","hidden"),d.val(""),setTimeout(function(){b.editor.currentView.element.focus()})})},initInsertLink:function(a){function j(a){return a&&/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}var i,b=this,c=a.find(".bootstrap-wysihtml5-insert-link-modal"),d=c.find(".bootstrap-wysihtml5-insert-link-url"),e=c.find(".bootstrap-wysihtml5-insert-link-target"),f=c.find(".btn-primary"),g=d.val(),h=c.find(".alert-danger"),k=function(){var a=d.val();if(d.val(g),b.editor.currentView.element.focus(),i&&(b.editor.composer.selection.setBookmark(i),i=null),!j(a))return h.css("visibility","visible"),!1;var c=e.prop("checked");b.editor.composer.commands.exec("createLink",{href:a,target:c?"_blank":"_self",rel:c?"nofollow":""})};d.keypress(function(a){13==a.which&&(k(),c.modal("hide"))}),f.click(k),c.on("shown.bs.modal",function(){d.focus()}),c.on("hidden.bs.modal",function(){h.css("visibility","hidden"),d.val(""),setTimeout(function(){b.editor.currentView.element.focus()})})},initInsertTable:function(b){var l,c=this,d=b.find(".bootstrap-wysihtml5-insert-table-modal"),e=d.find(".wysihtml5-table-rows"),f=d.find(".wysihtml5-table-cols"),g=d.find(".current-heading"),h=d.find(".btn-primary"),i=e.val(),j=f.val(),k=d.find(".alert-danger"),m=function(){var a=e.val(),b=f.val(),d=g.attr("data-index");return 1==d?d="rows":2==d&&(d="cols"),e.val(i),f.val(j),c.editor.currentView.element.focus(),l&&(c.editor.composer.selection.setBookmark(l),l=null),!isNaN(a)&&!isNaN(b)&&a>0&&b>0?(c.editor.composer.commands.exec("createTable",{rows:a,cols:b,heading:d}),void 0):(k.css("visibility","visible"),!1)};e.keypress(function(a){13==a.which&&f.focus()}),f.keypress(function(a){13==a.which&&(m(),d.modal("hide"))}),d.find(".wysihtml5-table-heading").click(function(b){var c=b.target||b.srcElement,e=a(c);d.find(".current-heading").text(e.html()).attr("data-index",e.attr("data-index"))}),h.click(m),d.on("shown.bs.modal",function(){e.focus()}),d.on("hidden.bs.modal",function(){k.css("visibility","hidden"),e.val(i),f.val(j),g.text(d.find(".wysihtml5-table-heading[data-index=0]").text()),g.attr("data-index",0),g.closest(".control-label").removeClass("open"),setTimeout(function(){c.editor.currentView.element.focus()})})}};var f={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(b){return this.each(function(){var c=a(this);c.data("wysihtml5",new e(c,b))})},shallowExtend:function(b){var c=a.extend({},a.fn.wysihtml5.defaultOptions,b||{},a(this).data()),d=this;return f.bypassDefaults.apply(d,[c])},deepExtend:function(b){var c=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,b||{}),d=this;return f.bypassDefaults.apply(d,[c])},init:function(a){var b=this;return f.shallowExtend.apply(b,[a])}};a.fn.wysihtml5=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.wysihtml5"),void 0):f.init.apply(this,arguments)},a.fn.wysihtml5.Constructor=e;var g=a.fn.wysihtml5.defaultOptions={useLineBreaks:!1,autoLink:!0,supportTouchDevices:!0,cleanUp:!0,size:"sm","font-styles":!0,color:!0,emphasis:!0,textAlign:!0,lists:!0,blockquote:!0,link:!0,table:!0,image:!0,video:!0,html:!1,events:{},parserRules:{classes:{"wysiwyg-font-size-smaller":1,"wysiwyg-font-size-larger":1,"wysiwyg-font-size-xx-large":1,"wysiwyg-font-size-x-large":1,"wysiwyg-font-size-large":1,"wysiwyg-font-size-medium":1,"wysiwyg-font-size-small":1,"wysiwyg-font-size-x-small":1,"wysiwyg-font-size-xx-small":1,"wysiwyg-text-align-right":1,"wysiwyg-text-align-center":1,"wysiwyg-text-align-left":1,"wysiwyg-text-align-justify":1,"wysiwyg-float-left":1,"wysiwyg-float-right":1,"wysiwyg-clear-right":1,"wysiwyg-clear-left":1,"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1,"embed-responsive":1,"embed-responsive-16by9":1,"embed-responsive-item":1,"img-responsive":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"any",height:"numbers",title:"alt"}},a:{check_attributes:{href:"src",target:"alt",rel:"alt"}},iframe:{check_attributes:{src:"url",width:"numbers",height:"numbers"},set_attributes:{frameborder:"0"}},p:1,span:1,div:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,th:1,td:1,code:1,pre:1,style:1}},stylesheets:["./src/bootstrap3-wysihtml5-editor.css"],locale:"en"};"undefined"==typeof a.fn.wysihtml5.defaultOptionsCache&&(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions));var h=a.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},text:{alignLeft:"Align left",alignCenter:"Align center",alignJustify:"Justify",alignRight:"Align right",blockquote:"Blockquote"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window",invalid:"Invalid link URL"},table:{insert:"Insert table",cancel:"Cancel",rows:"Rows",columns:"Columns",heading:{label:"Heading",none:"None",row:"First row",column:"First column"},invalid:"Invalid table rows/columns"},image:{insert:"Insert image",cancel:"Cancel",fromUrl:"From URL",fromComputer:"From local file",invalid:"Invalid image URL",error:"An error occurred reading this file"},video:{insert:"Insert YouTube Video",cancel:"Cancel",widescreen:"Widescreen",tv:"TV",invalid:"Invalid video URL"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),function(a){var b="";a.commands.insertVideo={exec:function(b,c,d,e){var g,j,f=b.doc,h=this.state(b);return console.log(e),h?(b.selection.setBefore(h),j=h.parentNode,j.removeChild(h),a.dom.removeEmptyTextNodes(j),"A"!==j.nodeName||j.firstChild||(b.selection.setAfter(j),j.parentNode.removeChild(j)),a.quirks.redraw(b.element),void 0):(g=f.createElement("DIV"),h=f.createElement("IFRAME"),g.className="embed-responsive "+("tv"==e?"embed-responsive-4by3":"embed-responsive-16by9"),h.className="embed-responsive-item",g.appendChild(h),h.src=d,h.setAttribute("allowFullScreen",""),b.selection.insertNode(g),a.browser.hasProblemsSettingCaretAfterImg()?(textNode=f.createTextNode(a.INVISIBLE_SPACE),b.selection.insertNode(textNode),b.selection.setAfter(textNode)):b.selection.setAfter(g),void 0)},state:function(c){var e,f,g,d=c.doc;return a.dom.hasElementWithTagName(d,b)?(e=c.selection.getSelectedNode(d))?e.nodeName===b?e:e.nodeType!==a.ELEMENT_NODE?!1:(f=c.selection.getText(d),(f=a.lang.string(f).trim())?!1:(g=c.selection.getNodes(d,a.ELEMENT_NODE,function(a){return"IFRAME"===a.nodeName}),1!==g.length?!1:g[0])):!1:!1},value:function(a){var b=this.state(a);return b&&b.src}},a.commands.createTable.exec=function(a,b,c){var d,e,g;if(c&&c.cols&&c.rows&&parseInt(c.cols,10)>0&&parseInt(c.rows,10)>0){for(g=c.tableStyle?'<table style="'+c.tableStyle+'">':"<table>",g+="<tbody>",e=0;e<c.rows;e++){for(g+="<tr>",d=0;d<c.cols;d++)g+=c.heading&&"rows"==c.heading&&0===e?"<th>&nbsp;</th>":c.heading&&"cols"==c.heading&&0===d?"<th>&nbsp;</th>":"<td>&nbsp;</td>";g+="</tr>"}g+="</tbody></table>",a.commands.exec("insertHTML",g)}}}(wysihtml5);